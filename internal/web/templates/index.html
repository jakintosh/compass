{{define "content"}}
<div class="app">
    <header class="app-header">
        <h1 class="app-title">In Progress</h1>

        <div class="header-actions">
            {{if .IsAuthenticated}}
            <button class="btn btn-add" hx-post="/categories?csrf={{.CSRFToken}}" hx-target="#categories-list" hx-swap="afterbegin">
                <span>New Category</span>
                <span class="arrow">+</span>
            </button>
            {{end}}

            <div class="auth-section">
                {{if .IsAuthenticated}}
                <span class="user-handle">{{.Handle}}</span>
                <a href="{{.LogoutURL}}" class="btn btn-link">Logout</a>
                {{else}}
                <a href="{{.LoginURL}}" class="btn btn-link">Login</a>
                {{end}}
            </div>
        </div>
    </header>

    <ul id="categories-list" class="categories-list">
        {{range .Categories}} {{template "category.html" .}} {{end}}
    </ul>
</div>
{{end}}